{"mappings":"AAAA,MAAMA,EAASC,SAASC,cAAc,SAChCC,EAAUF,SAASC,cAAc,qBACjCE,EAASH,SAASC,cAAc,oBAChCG,EAAWJ,SAASC,cAAc,sBACxC,IAAII,EAAW,EACXC,EAAQC,OAAOL,EAAQM,OACvBC,EAAO,EAEX,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEhCC,EAAU,IAAIC,SAAQ,CAACC,EAASC,KACpCC,YAAW,KACLP,EACFK,EAAQ,aAERC,EAAO,MAAM,GAMdP,EAAM,IAGXI,EACGK,MAAK,EAAGC,SAAAC,EAAUC,MAAAC,MACjBC,QAAQC,IAAI,uBAAqBJ,QAAiBE,MAAU,IAE7DG,OAAM,EAAGN,SAAAO,EAAUL,MAAAM,MAClBJ,QAAQC,IAAI,sBAAoBE,QAAeC,MAAU,IAE1DC,SAAQ,KACPL,QAAQC,IAAI,WAEZD,QAAQC,IAAIX,EAAQ,G,CAI1BjB,EAAOiC,iBAAiB,UAExB,SAAkBC,GAChBA,EAAIC,iBACJ7B,EAAW,EACXI,EAAO,EACPH,EAAQC,OAAOL,EAAQM,OACvBkB,QAAQC,IAAI,UACZ,IAAK,IAAIQ,EAAI,EAAGA,GAAK/B,EAASI,MAAO2B,GAAK,EACxC9B,GAAY,EACZI,GAAQF,OAAOJ,EAAOK,OACtBE,EAAcL,EAAUC,GACxBA,EAAQC,OAAOL,EAAQM,OAASC,C","sources":["src/js/03-promises.js"],"sourcesContent":["const formEl = document.querySelector('.form');\nconst delayEl = document.querySelector('input[name=delay]');\nconst stepEl = document.querySelector('input[name=step]');\nconst amountEl = document.querySelector('input[name=amount]');\nlet position = 0;\nlet delay = Number(delayEl.value);\nlet step = 0;\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve('Supergood');\n      } else {\n        reject('wff');\n      }\n\n      // console.log(position);\n\n      // console.log(promise);\n    }, delay);\n  });\n\n  promise\n    .then(({ position, delay }) => {\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    })\n    .finally(() => {\n      console.log('finally');\n      // delay = Number(delayEl.value) + step;\n      console.log(promise);\n    });\n}\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  position = 0;\n  step = 0;\n  delay = Number(delayEl.value);\n  console.log('Submit');\n  for (let i = 1; i <= amountEl.value; i += 1) {\n    position += 1;\n    step += Number(stepEl.value);\n    createPromise(position, delay);\n    delay = Number(delayEl.value) + step;\n  }\n}\n"],"names":["$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$delayEl","$47d4ff9957288465$var$stepEl","$47d4ff9957288465$var$amountEl","$47d4ff9957288465$var$position","$47d4ff9957288465$var$delay","Number","value","$47d4ff9957288465$var$step","$47d4ff9957288465$var$createPromise","position1","delay1","shouldResolve","Math","random","promise","Promise","resolve","reject","setTimeout","then","position","position2","delay","delay2","console","log","catch","position3","delay3","finally","addEventListener","evt","preventDefault","i"],"version":3,"file":"03-promises.a3499158.js.map"}