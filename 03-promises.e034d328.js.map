{"mappings":"YAAA,IAAMA,EAASC,SAASC,cAAc,SAChCC,EAAUF,SAASC,cAAc,qBACjCE,EAASH,SAASC,cAAc,oBAChCG,EAAWJ,SAASC,cAAc,sBAEpCI,EAAQC,OAAOJ,EAAQK,OACvBC,EAAO,EAEX,SAASC,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GAEhCC,EAAU,IAAIC,SAAQ,SAACC,EAASC,GACpCC,YAAW,WACLP,EACFK,EAAQ,aAERC,EAAO,M,GAMRP,E,IAGLI,EACGK,MAAK,SAAAC,G,IAAGC,EAAQD,EAARE,SAAUC,EAAKH,EAALI,MACjBC,QAAQC,IAAI,uBAAwCC,OAAfN,EAAS,QAAYM,OAANJ,EAAM,M,IAE3DK,OAAM,SAAAR,G,IAAGS,EAAQT,EAARE,SAAUQ,EAAKV,EAALI,MAClBC,QAAQC,IAAI,sBAAqCC,OAAfE,EAAS,QAAYF,OAANG,EAAM,M,IAExDC,SAAQ,WACPN,QAAQC,IAAI,WAEZD,QAAQC,IAAIZ,E,IAIlBhB,EAAOkC,iBAAiB,UAExB,SAAkBC,GAChBA,EAAIC,iBACO,EACX3B,EAAO,EACPH,EAAQC,OAAOJ,EAAQK,OACvBmB,QAAQC,IAAI,UACZ,IAAK,IAAIS,EAAI,EAAGA,GAAKhC,EAASG,MAAO6B,GAAK,EAC5B,EACZ5B,GAAQF,OAAOH,EAAOI,OACtBE,EAAc4B,EAAUhC,GACxBA,EAAQC,OAAOJ,EAAQK,OAASC,C","sources":["src/js/03-promises.js"],"sourcesContent":["const formEl = document.querySelector('.form');\nconst delayEl = document.querySelector('input[name=delay]');\nconst stepEl = document.querySelector('input[name=step]');\nconst amountEl = document.querySelector('input[name=amount]');\nlet position = 0;\nlet delay = Number(delayEl.value);\nlet step = 0;\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve('Supergood');\n      } else {\n        reject('wff');\n      }\n\n      // console.log(position);\n\n      // console.log(promise);\n    }, delay);\n  });\n\n  promise\n    .then(({ position, delay }) => {\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    })\n    .finally(() => {\n      console.log('finally');\n      // delay = Number(delayEl.value) + step;\n      console.log(promise);\n    });\n}\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  position = 0;\n  step = 0;\n  delay = Number(delayEl.value);\n  console.log('Submit');\n  for (let i = 1; i <= amountEl.value; i += 1) {\n    position += 1;\n    step += Number(stepEl.value);\n    createPromise(position, delay);\n    delay = Number(delayEl.value) + step;\n  }\n}\n"],"names":["$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$delayEl","$ce04d3a99e08e73b$var$stepEl","$ce04d3a99e08e73b$var$amountEl","$ce04d3a99e08e73b$var$delay","Number","value","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$createPromise","position1","delay1","shouldResolve","Math","random","promise","Promise","resolve","reject","setTimeout","then","param","position2","position","delay2","delay","console","log","concat","catch","position3","delay3","finally","addEventListener","evt","preventDefault","i","$ce04d3a99e08e73b$var$position"],"version":3,"file":"03-promises.e034d328.js.map"}